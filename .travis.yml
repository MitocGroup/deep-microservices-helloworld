language: node_js
sudo: required
node_js:
  - '6.10'
  - '7.7'
cache:
  edge: true
  directories:
    - $(npm root -g)
    - node_modules
    - deep_modules
    - $(npm config get prefix)/bin
branches:
  only:
    - master
    - dev
    - stage
    - test
before_install:
  - cp bin/test/package.json .
after_success:
  - npm run coverage
after_script:
  - npm run remove-coverage
env:
  global:
    - DEEP_NO_INTERACTION=1
    - E2E_TESTING=none
    - MAJOR_VERSIONS=master
    - secure: 
        HkST7Rqo02BFYp3+XGBzz7fhsKxwxSzr2EeTphbj+8Xa5kjTDUlDInLdrzoKfKK/zJy6njgZp4q561KV3L6HEHlnNjy5e4co1GgkXwrjOsXV+r32H8PHAMvbDCJyOxgERtPxiryfXkmLBkyWhlebAmtyY1Op/O/qQajvQPIboTbDP5awqXyAF/Gitbal88K8fwgHmE/mC9A5MPOttL6PagKkxAiOtE4Z5LuJ13yXHGmJ4KilhfcSw/so0NyqBBlQww22YbfJIsOAGODSlWep9HTo1oS9mZnTTLBY7j9HHJStXtP4pZaNCHeNTMKOf1ZedWcvguADDe32dkU6TfxdwkJj7vtXxUBiWyy7JN8fq3pGrgu2Izpe42DSSqA9bgTfP7HbebvECHcrgGZshgDFR3gRo4ihRnjPfTAswEGnPBNTlISGwxRp7c2a7Ao7Ofkz9o+4ArYvP1BmYwOyZ6hKfKx9zTLHnMTfadygcYH8r0t09a5imK3JKcGWABLpUcDRwzUKLigk8j9tkIKgfcclnPI4r7c1pK5E3uQfTln21OrU02bhuwcCL5VgW1MKHS5NZbZu9kSorBqSqb3DBSjsr5GTpHPvovwsW6YmbD/1nBXThlnAga5cyJ84AnWenOWVa+yiq6AezkDo/AZqBeaNguUBrDhoMHM8jSu+dV9FuP0=
    - secure: 
        TLGAuVPW37075ppOMUu2Q1AHZvRDpQj3Ejm73MmKilKTQys4it6WKSAtBmGJRq3/Mk9QOfX3AMrDho5O96fggC159pLSfyKMmyEjO989o4/PMaccwma+f5FKHQiCF45a8sW1CZcde2BNwrBlgvFacoTj/0YL6Xky0CKxMG+OYkZthG9DGNawKF5cjxjTfy/aC8lZQ1PRWCl9IgyGBLyzDfgkYfbxmy6Wk44UpnvsK+mlBJ5Zk0nAmgqL0JTc56BRwh1ToC1d3XdEVgWlFqPJutQ6T7Skbg2E+8KPv9HJIafVn1JnEWeaSE5t+FHTfrknOTCZuah4cYg5ZDJybChqQuQeoTEEkM0rTqZkzdJEsxh46Mt5I+UIDaYgg32yhAmsqr5cau3IQp7sG6kJrLJNMd9AP1jDKrarfej3CSgaQc55SYTJ4Vtm+U6mWWnoeXB1FeWsjL5egB4P30D+iO+6QrsAO5UtmP36Hwrj669k4OWXflrgjqfgzUjJRwZnJfURYNWUv4PaIMmmjT8LBXTWq2XuZkAXK+5raD6u8OZL5rWKEfSuaboJug+RpeFwdYifyHFJifDYVxMEIoTMZ3wK7ihOcKDYOu22bIbZXMvLBWydKby5FaRMlocYuQ0p68sQTUBN0cWNiR0Td3v9cEAi4yaKIcqp0iIftet84r+L/co=
    - secure: 
        iPAbQmDq8ZVL9ySJR2wSORX+JtRUmu5+xPYeN3QN7e93zngtuwuD+Z8vazBHL/o0xSbeAaEVSjO3D2ghLJO1gS1vnMU89GCeN4eg4Hi6jtdvpQF7pdx9N3sErA5TKZQhFvPPGzbASiwKeHpb7J3sS9+0NpWTr96zQEz1n/kRGcbh3GopE4fnpsrz+7G80keRvhvTMZxM1CJsxz4OZHYmHP+I8yRCsj/N7N5FeDJZjoLeAjuYJSyqmuwnardfu7UangowJQv/JeFDIEJfMoviSGvq1ammM9i7RQHS3/h7y3Lw/NMDVdNI/VvobRUyiWPnLoKJnCd14cJ3uizb/Alsg7y1u1In6cROHQxhYcItFj/6Hl8izoYZLTevmuA8DrJ8zUdGuNTvs8ugkPjd4Tkwxw/uUmaCBe1kOSe45Kc8PH1yrTTFB2pvRbDGSzAQec9YSwTZVdCPSFtCZzRO5YJMCrmOFtvCToBLk3fZLA0ZlPJGFcf/dEAxWo0vcOYcDXaRtHX6gvDqVSMFFzO9FpuMqVBqz2sHXYG8mSQ20Z0jIykFHzCW1iwB/icrAAtDWc3FDyh3m6TzLM45r42dwtFisOTwGYuo9EL7jvaheQdumdRh+VWR4z4ICEbQMdUrZGfOjH01pVW8a2D/YWVh97Uahq1cTFGxTv2V4n9DebX+sCk=
    - secure: 
        T25CXB4bXZsxTvp63apRhVe6tAALkUIAdMhvth6fLzGsvWVyL10FFcJ4al15I+lN5IIR/lV1eF3Se6QbuZBEYrJtqskQyphYqlMEUcpmi7AazOL1EbGaoL+oWoAXmT9cqHNHAesVxMK7q6NKCMj0clMgkCDCeP1wJxXDnbEezFSJkIFvFCF73WbMpAvZsmlR4oQo+EChKaWfq+ynTRKHYufskHHU/3AF1JfxBUkneOZIBapGC9J6CBHuvwRzSNdWKp5cK8a5NbCUEtLDP2loYNqWgAVXuT2VoJbK723fQtd180L77e6qNCKOQ87VqFfADj8aWdfbk0da6K9TpVt9wzp9EDx+2NRAFHUlxuxogOnNIuCUIhPwvbLOQrF3AMeVMDYHfo7ZOs6xDBFRT+UIzikzZTZ549JNtc9oxYcy7AY5ZxwawMtjR1ljyjAEmWtqkyhHYiHIiNTjqNwRhTDzB4zY01D4TsqgbjysPwM0N7W8ZMewFIPnh1rCkBCQ33wEEJsRe0+gonoyxSHLZjfhNrvc3PGVfPeJEt4hCKqHNtrbktDFYrN2NfZ8JlrqtHk6NaS/52tp37tiWRqIqP0AIh86aIFKumu9nhpNPnBgqCt6AfzWuP861xWyrwvH6+/hgMeS49cZzp93g4Pj5GAuZ/4AX3v4Re1U0S7Ky/xbfo8=
    - secure: 
        1KScrm067KSa//i02SbajQs0cNQKhnFl6vjsiGBK9x0t7vYswVuqDPiYLrbQzk1BI/f7ePg804/4LbEWNQTSvrisN1no7G6naJz4DZBiXZsi2G7TYcMABYK6HAo+J0kdie9zrB7r2NAs+AnGNx7e+YtjbEz8UefZT76BAZPILTyI6W31iAr9nMEm5+DojfrxRTGcaDsB7mzapN9N9Gw4DtGolk1Ht8cX31p3cabgpBOiX+tgB26ujzz1L3iIqLrgVCUb7p1l0WU3AkrCzYCrYFWc9K8K/FOO/a+WtnXEsw5HFVew4imnRkyjstbtOkluelB2/qXkY96jxWne48ry8jpzb9/jF3MxjlLA+QGuw+ZhrK7CAI5leLCz2I9wfe1kY6moddJdYriBB+JCQIN3ZlBAKBTsznmVI0Z2nwIt+h9SxjDQnmgGZHDgqmwfD97drjAr6YjB3h8AXIqGGFdU1qqAuh7+h6Ycwy3WBRgeRCs8nrpST7T4FgLlT6h8KCZR3qPXXbZf1Kentf4aH+26t/t8l6IZdAW2ZhaEqN65biaISJJmW0LMyEq/2pOET7kMXISovo0/uSCq/PnjKOZ9n+mZngqZsIen7W5FzXwairgcOP7z6zTuzptI1+PzJJs6IYHVsXktXeipw5kUfBb3JcA8pxODCOj8MML+PEZdUe4=
    - secure: 
        NDqb3HU3xriKv4ML/Fv5/7/TqraXVlFjBpCq51NLqBIot6s6c/YHA7JcvRM2WEfz8ELenZ1b2Twpqw4dt7KBCeQ5KLXkZmyR21aE3b4xkVqTR//3nOH9a6PNrsYwMwW6y263YIyPYyJs6rDDpyhFchm05LYxJqa1tVMgXBWZvU8+PHD4QtS7zqkpZvRN8EhyNMJRibF0GnbIOW30acjxOpAkdJ1Q53NbjawW9zjnuJLIJlYNVoJMZ/1I4rHgKJfP6jjEjZWbi9VBoGzNR7pc8XPRojCrtKUyWBN1UDL7exuBbY5EhWJ9KM5ZpjzVVbDtaHv5K13bAHfGMbfftp3pNbRaT44iFyW/EXJIK+oygs89sdyqqop6kyX+v5+wHxjs4gyv5k4PUYEqycp+5oYrR7ule00OTFNYqcCEzQjHaBdWjVWGtQhnxpzHpTi6Pj81FgqgrmnWNesFdAvkD9u+OiIP7C+wOPxZFVMk2jH4So+KJawoJPOm7HXeIBCYoMn+CelLw8e3sLzHdRy/myX4705ldpbKY2QudZsEeEvIQZi8pKPGQu/MC9m6hq156s+5OxuuUTl8E50inu6SZXkAooXr5phrCq/0Yfaps7kkzVp1SGcEpOQwO24ibeWJH+dO2Y9fHMXB1X7hNDbCguMio/AbK1gYySVwjNzWVgyK7LA=
    - secure: 
        G07gxx4aVetEW1ky95esaKbDaCgb5jrDzErPphXv/OmSz4Cb1I+Y+YsMMx5JD4WzdEaMo7DyssQNSlmnx3B3Z1ZzZFLbb0mwcoRgR0A/5rdnYSUP+Hwj63ky9HVr5LKAGkMhZCWlOSct2QPeFwr1qnVWyh37QiEYNRClV4J0iuo06RMRfWqvsjsgPkSc6HGeOc7eegyesq/W/89NvblCIsIIGAQ6clnVvqc4tBgY5+k03Mp40qhwKIGE2UB/vNpx1SQt2nC2so3sEq+3Htq9sZGv37DKzUtPTlQ8PQ+FXl8jr045rqsNsr+Vo9dYVQReuJ0uyUz14Ck3/qC9KP/2uSjq/oVxeWNSwXzk2kz+caYILhUrZAMJb0zt5UU0w/ocFd5C/GErfkyq8/mPrQRqn6A2LDtQ5wDuqVMcoVFU4x8WBe9Ju4mivpeaciiBeqF3uLxJlp6t+P/bjNEbCGEm6eSJxLziuO4cqiwwtS+GBZYZQ3EI5VUP6KnFFQyuUdGFO/SIALUcXehYUgXAWtetSDDyHbvZD3wD7RBSGkNTdmIb/iBDYnDPixiez9OBVgmck/00ke15M3sLYzcsox+taeJfFBQEkWeiGzwyqjEOTI/m9tgB5/2XML5ypmakEqk+OmmgiOzSKHPlHXmJM09wVrEP6L6PtTERcKIPsunQs0c=
    - secure: 
        XSjeaw3Kd10HU+P8m1LYEa9yHZ5C0JtmFzcCJ2UkM6VkIuvgxlGGuaREI6FW6bBuq2m1y4aQtsHLlmbDNAYcGVuCErFzHYtIxemYwYDnCA9M8c7XpfxHkP/rZZWIDflNp75DldlSNZ+TsjUtz5nNdXfWfqYPw5NgA1QnIXqdL8w7+qUXBfsUBYJvNSEi9OfTryXnHVk7J0dRckiKt2CHIaqPUyYiOAzByVBjaD2qrli0vLFIco0vtbG99X0ys6BlBzMR3Cs38lvBPXnv+078qiM5ipE9lCrmE38Pi05HI/iO+jgYw0cwHzgnQfBe3zwZbiUPBY93BD4CxpFoBT/gPz86SWoniii/lMNtcK6ruQBV8frDupsxERY2HQkkRPlh7CGd2jExgbw4L8D8V8sC5akGchug+gpdsoVdrQPfxmeyM80nLtCHL15MUp79yhHxYSBPLoMNSK7DRpYR6y2paK1u+NhBxQva/Z87IqrkBE2iNfw6jGFT8iJYuERiznM+1nP7ABI9u6U78teyoq+TulIIO9BAI97vnKjUoSH79go036VHJqX04BU+4zW/NxpAOGcWwffhWglIy69XUQvhdpOFqTR1ks+i5gsTk/j0/R6UsoUZVkfSz710rGEyEYqWmnnoQOBtBB+hezpTRIXPE/pYFI7jytU5rceY3BLIdig=
  matrix:
    - TEST_SUITE=backend
    - TEST_SUITE=frontend
notifications:
  slack:
    secure: 
      nPGEFw9t83TDW7oubn6jfIh+T710qnpaE7Oax4W7X63OO5Qvf6Igr4y5XKF2DARGBZ9l5rFENm7WurfvzoLIwXzHONm4Da9rAzaIYCPNUPRfDU2iAtAN9VyUedow4G0/ZhAh94OWAj+ma/803zYp899IjjVn6JxtCfGZYsfrK95Fb14nC+s6oXjzZsl2+QP4dbJklFKrk9W0o0ps3KDEpzePgG4pVU+M4HMndYkc3UAqQUJ7+Ilsp2WkcGubX7jP6sjNe/iIseZepsxzrY7Q+TvzSljq+pNkPkj2MLfK0VUWWI7twd0cNVFfOKX5eUhA6GMKBQAoK7RT8MSqVhtgUcL5kgqKuUIyLq76g2PQo2+PIhmsBkSI5M6xR9SJvchHtEKuPEzqK4hNsilyUkSnlwsREwq2Q8f6HgSe0GHAXxuO4saAky/RECQiBnoDds3yaYc06jP00MyIkIgX2VJKLZ4si9cpTFrnIzPjZrMBx4/fTXx20cIQtACFKr49/4rJHwwCeiJW0lZnRpbCzPx2Sr4a36eFReQLW5hnJgLUumgqexc5Ae4ygZWPYR4+7N/wi16ld4ubpUqLHAYEujRPjiSuvvwZ1xpUH91LLP+ywRPa5jAocYYWchjTnjhzumQ8+QcMItgZDYyGYu3ZFJzcvpc46ZLVk4Z3n7z8tQh111k=
