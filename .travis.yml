language: node_js
sudo: required
node_js:
  - '6.10'
  - '7.7'
cache:
  edge: true
  directories:
    - $(npm root -g)
    - node_modules
    - deep_modules
    - $(npm config get prefix)/bin
branches:
  only:
    - master
    - dev
    - stage
    - test
before_install:
  - cp bin/test/package.json .
after_success:
  - npm run coverage
after_script:
  - npm run remove-coverage
env:
  global:
    - DEEP_NO_INTERACTION=1
    - E2E_TESTING=none
    - MAJOR_VERSIONS=master
    - secure: 
        HkST7Rqo02BFYp3+XGBzz7fhsKxwxSzr2EeTphbj+8Xa5kjTDUlDInLdrzoKfKK/zJy6njgZp4q561KV3L6HEHlnNjy5e4co1GgkXwrjOsXV+r32H8PHAMvbDCJyOxgERtPxiryfXkmLBkyWhlebAmtyY1Op/O/qQajvQPIboTbDP5awqXyAF/Gitbal88K8fwgHmE/mC9A5MPOttL6PagKkxAiOtE4Z5LuJ13yXHGmJ4KilhfcSw/so0NyqBBlQww22YbfJIsOAGODSlWep9HTo1oS9mZnTTLBY7j9HHJStXtP4pZaNCHeNTMKOf1ZedWcvguADDe32dkU6TfxdwkJj7vtXxUBiWyy7JN8fq3pGrgu2Izpe42DSSqA9bgTfP7HbebvECHcrgGZshgDFR3gRo4ihRnjPfTAswEGnPBNTlISGwxRp7c2a7Ao7Ofkz9o+4ArYvP1BmYwOyZ6hKfKx9zTLHnMTfadygcYH8r0t09a5imK3JKcGWABLpUcDRwzUKLigk8j9tkIKgfcclnPI4r7c1pK5E3uQfTln21OrU02bhuwcCL5VgW1MKHS5NZbZu9kSorBqSqb3DBSjsr5GTpHPvovwsW6YmbD/1nBXThlnAga5cyJ84AnWenOWVa+yiq6AezkDo/AZqBeaNguUBrDhoMHM8jSu+dV9FuP0=
    - secure: 
        NSDKjFL0KXn4psTOLKrCP/e7PMg5YcD0b0yR/5qaAsaPAf5kysId4qqgQK+Auyka+0AOBo0qsbR5ofpxTETz9n/XU4L5D3A910gIQMKsgU35N1ijq9UYi5Jp0OJIlTg1QTBkiBFnWUxxX4siplg+2X4QU1sf5Z5zL5BSVtDyZbfS3KnUJH2750fOFYXwMWK0oaK8g0eYWCUY5JYoD5wrL/H2fIDruDNYGUZYnzFX+Rp+NuqWKyrgFu+hBDOB6Kl5S+ZBHDat0RCWfOANaBXEywufeSOYc0kpPFZkkLm4FrbcNJxG8vBa6eU4MS4HyrM65w8l0jPVyWaIseycsKkPtpQ5oo3lsIxcs3I1HHShNnhIf6rJ9dniImgO8wpDFjqEbDih8GPynLf/0wRTi5X01WEYAhZy9nph+hnIlaxeacN9oKHVFhdD4B0W9CVM7ny5OqREc0yUUNCaNjes87BVa+TpkqmQHSH0NyevLKAIBlBikVZN+RQ1OV1EowtiHusVra+AAjIPZAasMEfKlM/DDKQ6V63dSnm+UpMQU2nSw9UZHqExaZKcXkj2VsMgNQ1k7Kf3WO13Wvk8Ekv2HzGcBvJ+aq8XnqVYduvY4AGWJbNP+47+WMOgV+SvOI7R2PRUBgDdaFYJ4nXAzbzS5St+hqRkxJrMG9co1xwExklGeLQ=
    - secure: 
        377v3XEvk1nwUlzoGZhBkvHhb598ViXtl4TJsbhwTcohIZafhGgVdY2/RSnHolCkM+t0puxELqqhd7EhhWVHtO7U0Ps7l+/3czSvreprv7+YbOSJ/+co1+3I/VZDELoBnvpXGdujWhSC/pNGpPOv1Inqpu3wHz2kPdO9ALFIm5Sn1JyAkMwQjnV+DMsE5QNgXaLUqfqQnMDAoH8UMuHjCKwDdVs6reVaFWbGg9RTQxjzoLiidSIHtx21/gclOaBrVxnfvI/up7g0nHiGpN603B2nOLgOkngGi5xydg0AYNaolAEipOOcjzg0y7M9hN+48jtUtDEStUUDBsq+akQr1OSU6gZhPxjMVcj3sKOaDsUDfvbfT+D1ttlRK//vFIG35nPR/BpFM1jfySCKiWyjg8Xu1oJGBcmNTMJFC8YOaJ7Va0m6sGKAw4Fm1UcHFplrIzGrKPwRvvvPYbmBJiU3w7Ujf1IzSQf7EIRIRek46bJmgC5Er0N0X6o4OWve7StubOwjf40RMgiuuCAIwBAa4lLMRU6fbaHLO6SX5stQ9qQr+a7V1LqvNfwCa/V9XzbwfAaOSQYVj0NbjzPgJQjd2peK6lTG0fKSu+M0uhCCimeHLqd/TnUMhip/HUwOHLMC2Ckbq6mSdY75GCC4JKkB3NTQKZ9MNu0JU5/47NCGCKU=
    - secure: 
        TLGAuVPW37075ppOMUu2Q1AHZvRDpQj3Ejm73MmKilKTQys4it6WKSAtBmGJRq3/Mk9QOfX3AMrDho5O96fggC159pLSfyKMmyEjO989o4/PMaccwma+f5FKHQiCF45a8sW1CZcde2BNwrBlgvFacoTj/0YL6Xky0CKxMG+OYkZthG9DGNawKF5cjxjTfy/aC8lZQ1PRWCl9IgyGBLyzDfgkYfbxmy6Wk44UpnvsK+mlBJ5Zk0nAmgqL0JTc56BRwh1ToC1d3XdEVgWlFqPJutQ6T7Skbg2E+8KPv9HJIafVn1JnEWeaSE5t+FHTfrknOTCZuah4cYg5ZDJybChqQuQeoTEEkM0rTqZkzdJEsxh46Mt5I+UIDaYgg32yhAmsqr5cau3IQp7sG6kJrLJNMd9AP1jDKrarfej3CSgaQc55SYTJ4Vtm+U6mWWnoeXB1FeWsjL5egB4P30D+iO+6QrsAO5UtmP36Hwrj669k4OWXflrgjqfgzUjJRwZnJfURYNWUv4PaIMmmjT8LBXTWq2XuZkAXK+5raD6u8OZL5rWKEfSuaboJug+RpeFwdYifyHFJifDYVxMEIoTMZ3wK7ihOcKDYOu22bIbZXMvLBWydKby5FaRMlocYuQ0p68sQTUBN0cWNiR0Td3v9cEAi4yaKIcqp0iIftet84r+L/co=
    - secure: 
        07WJooBYKfcbWr1FzofPwEnIi28G5sSyW57cC5ux4GnANNHRsChaqZRueknUniLzR5zRKTOKp0DLLD+2ymS8a2MARn1HBVM5FxxIYZ3U9bdHhF/RmkNvKCPUo4sUC+6bwNXtEoKfxJ8gi2LKaQSd0b/OZc+IUpiLERcQN2kEU5VBg/MII9aBVhKg7nu8egUNmbP0ZaNoW57sxljQBGmAaNAJvdVEgueOwvJ7UXr0AUTTvGJKxX1Ubu6guLGj7AsfivLN2fC3BQFxZTkzXPpRmqJDyloK4bSEoOVeQQGo1EPhO9lGHlrgqCBOjAtGKybmE0u63Q6JnbmWA5NIPiypjxpA9beQ5+hNbdbjAes+b6+cr69TvY+4PFs78yc6b6Edk34CGO43QjrxUuLSO7z+rdMJBPRoGrvxfkj9i7auUv06gwyrlrqvSQlPAPWlYdDjGFR5oQOTKo8RLep66R6vuGurQcEF8Uu+Yp0JKGjfSUEGZHwoLUR578j2pRAn/Ac38GyFvSnU5QrLi49kQwGxJaN/zHbv2wDYRT5GQx/Q4kcd2dBUHLRuf2NZFIRVP0k9ioJhoxQ0e7z63DkOgykyPlGpgX1AQi2iCMF9DgYVZAFs6biJcFGALZVSzaFf1w6pf8mgCMrAfnisJhKT6Q5LxcelRwD9rThaNwHRyvwOC9k=
    - secure: 
        pe9biSu7Snokv+9ZmS0cnWlpmt5KHAPy6zF81bd7xJd9oeVE+Fn35s4fob499olL4g0ozq+EycmZfhm0uXtQuLN8dKZ6ukmx7vi6tO3CDZ0HwFKQ9/FD8MGKyC44BbAeXwvWd+pDJESBpGY8r+wYF5YlzwG8lq/khFbaya+b6q4GhJPLGqs68PB/fmtTEUAzV6IJo3HhKYeYKLiJmdmp5XQ3X0Vgl9iEO29c3EYVsk0qUaSO8tmTMM1ocC0oi+uKkFE4IcGeXSMAu129kI23u2rBn7vCaamEkX56ET+gQAnJiBO12pZ7gxTuuRnZ9wQFMy7uJ/JxKqJginMKWbHk2Gr0BHZreZNZScCkycV+NdD5NFToHLnX1M6lUELQSHryBACi3nQiJ4zBMD7RvLbFw64xFUMcl90QtT25s2k4/AB4gq7nYOAUiU9sT3AnkX84fbtBkJ7wmhKv7RwciSIgBO20CfX/HaGWhZnZgD/L5v61IPOGlT6OmDj0NqqhWk01iPflbyLJrOkeexmdn+4TFkQFfIBpEE9z9xC9P9zqlVRaBKPjNLTKGfe+Sehaj5jbcSl9PaDj8qttln5Q6soslnY/DtUb4kVIUiaB87UtwGc4GHWm2TGm0SWht03xqKYnDq20jtnvEkQWO6YQ9fbxTZhVWJbqZ211e4ArY8s/NPA=
    - secure: 
        G07gxx4aVetEW1ky95esaKbDaCgb5jrDzErPphXv/OmSz4Cb1I+Y+YsMMx5JD4WzdEaMo7DyssQNSlmnx3B3Z1ZzZFLbb0mwcoRgR0A/5rdnYSUP+Hwj63ky9HVr5LKAGkMhZCWlOSct2QPeFwr1qnVWyh37QiEYNRClV4J0iuo06RMRfWqvsjsgPkSc6HGeOc7eegyesq/W/89NvblCIsIIGAQ6clnVvqc4tBgY5+k03Mp40qhwKIGE2UB/vNpx1SQt2nC2so3sEq+3Htq9sZGv37DKzUtPTlQ8PQ+FXl8jr045rqsNsr+Vo9dYVQReuJ0uyUz14Ck3/qC9KP/2uSjq/oVxeWNSwXzk2kz+caYILhUrZAMJb0zt5UU0w/ocFd5C/GErfkyq8/mPrQRqn6A2LDtQ5wDuqVMcoVFU4x8WBe9Ju4mivpeaciiBeqF3uLxJlp6t+P/bjNEbCGEm6eSJxLziuO4cqiwwtS+GBZYZQ3EI5VUP6KnFFQyuUdGFO/SIALUcXehYUgXAWtetSDDyHbvZD3wD7RBSGkNTdmIb/iBDYnDPixiez9OBVgmck/00ke15M3sLYzcsox+taeJfFBQEkWeiGzwyqjEOTI/m9tgB5/2XML5ypmakEqk+OmmgiOzSKHPlHXmJM09wVrEP6L6PtTERcKIPsunQs0c=
    - secure: 
        XSjeaw3Kd10HU+P8m1LYEa9yHZ5C0JtmFzcCJ2UkM6VkIuvgxlGGuaREI6FW6bBuq2m1y4aQtsHLlmbDNAYcGVuCErFzHYtIxemYwYDnCA9M8c7XpfxHkP/rZZWIDflNp75DldlSNZ+TsjUtz5nNdXfWfqYPw5NgA1QnIXqdL8w7+qUXBfsUBYJvNSEi9OfTryXnHVk7J0dRckiKt2CHIaqPUyYiOAzByVBjaD2qrli0vLFIco0vtbG99X0ys6BlBzMR3Cs38lvBPXnv+078qiM5ipE9lCrmE38Pi05HI/iO+jgYw0cwHzgnQfBe3zwZbiUPBY93BD4CxpFoBT/gPz86SWoniii/lMNtcK6ruQBV8frDupsxERY2HQkkRPlh7CGd2jExgbw4L8D8V8sC5akGchug+gpdsoVdrQPfxmeyM80nLtCHL15MUp79yhHxYSBPLoMNSK7DRpYR6y2paK1u+NhBxQva/Z87IqrkBE2iNfw6jGFT8iJYuERiznM+1nP7ABI9u6U78teyoq+TulIIO9BAI97vnKjUoSH79go036VHJqX04BU+4zW/NxpAOGcWwffhWglIy69XUQvhdpOFqTR1ks+i5gsTk/j0/R6UsoUZVkfSz710rGEyEYqWmnnoQOBtBB+hezpTRIXPE/pYFI7jytU5rceY3BLIdig=
  matrix:
    - TEST_SUITE=backend
    - TEST_SUITE=frontend
notifications:
  slack:
    secure: 
      nPGEFw9t83TDW7oubn6jfIh+T710qnpaE7Oax4W7X63OO5Qvf6Igr4y5XKF2DARGBZ9l5rFENm7WurfvzoLIwXzHONm4Da9rAzaIYCPNUPRfDU2iAtAN9VyUedow4G0/ZhAh94OWAj+ma/803zYp899IjjVn6JxtCfGZYsfrK95Fb14nC+s6oXjzZsl2+QP4dbJklFKrk9W0o0ps3KDEpzePgG4pVU+M4HMndYkc3UAqQUJ7+Ilsp2WkcGubX7jP6sjNe/iIseZepsxzrY7Q+TvzSljq+pNkPkj2MLfK0VUWWI7twd0cNVFfOKX5eUhA6GMKBQAoK7RT8MSqVhtgUcL5kgqKuUIyLq76g2PQo2+PIhmsBkSI5M6xR9SJvchHtEKuPEzqK4hNsilyUkSnlwsREwq2Q8f6HgSe0GHAXxuO4saAky/RECQiBnoDds3yaYc06jP00MyIkIgX2VJKLZ4si9cpTFrnIzPjZrMBx4/fTXx20cIQtACFKr49/4rJHwwCeiJW0lZnRpbCzPx2Sr4a36eFReQLW5hnJgLUumgqexc5Ae4ygZWPYR4+7N/wi16ld4ubpUqLHAYEujRPjiSuvvwZ1xpUH91LLP+ywRPa5jAocYYWchjTnjhzumQ8+QcMItgZDYyGYu3ZFJzcvpc46ZLVk4Z3n7z8tQh111k=
