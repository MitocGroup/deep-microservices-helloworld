language: node_js
sudo: false
node_js:
- '0.12'
cache:
  directories:
  - $(npm root -g)
branches:
  only:
  - master
  - dev
  - test
  - stage
env:
  global:
  #JSPM_GITHUB_AUTH_TOKEN=[secured]
  - secure: ZKCu3jAbw1KcxIe1yxpkAz9Na5bk2gfpUaNtDx0rEaGyzJ82y+mTXwm4JPrJmj3rxveAQEqb1toC1UK+jJAXt54kNxrYrRnlOKHcnRzLeaxqM2VyE8Zg+x/diWxxPPPHB5X1x8FgaYUrvFpb0mExE2+OeqqvTT188TUOwsgmexPSAq8CkF9IVYzmL9JYqTp8KsfPIF7BmaSLqQcGg+z6UgRzDPV5NnuLxYK5s1khIy3rAw4Qix1UovzNi7lIvIw3uY17PBqGB7Pa56SNjJm5mBw7JuchlZydN+YC/tCmR4DdVmZsSfhgYB52NC4WZI/msARg3MgY4tJTcbv4ZFNyVpwtKCtAYhZRNAuVYTlE5hr/WYb+WMBaxOPb4s2XsNSAeM6jd1o4orUl8RqdfEpUbnb0DWK668SkJvROmsR+coMdYQNxSFpSNHjqdP3Jf2ldTw73AHTPnP1RsCh6SEcPFJJYyvHowItGC5c4h4BJjzHMGqkTGZczfqhRLMICPpO9/Fem2JUm2PBJvXf76jxKctl8rAHyKrg3KBu63JgANOlZZLqjEnvkx6n7w+nOf0iFGHfD2B4S+GcINhV2OVN9yWInMyM9P5BPFrChoGrtCH8xuoXVfJ/y11C+N8ri4Z+4R1+554e7bz7UpiL3hU6NLp5S5ZUQd4x3icWa6TFlsWQ=
  #COVERALLS_SERVICE_NAME=[secured]
  - secure: DI2Fa/qW2acDF6EINPsluxR03VR4ZbSOVoQOwNh5xxaNweSESE2OVevNzM6pp1t5HfA30Ufz1JrLwRCRrQWNLqRjojEYXXhnhLIXmkeskiInwlAkYnYOY8xDN7nMi2O1gscYTc12q4lR90dFPIX8wb2z52NljBm2881s1uWpiFxY/1McHBXRCKt/XFoBSKBwLtHdgse/sNr1aSnfPjEGHpFeioQcrSJVhlLX5cQpd23ARU2p4bb+6lBvM7TEazd4TV8I8PyLy/Lg5EdMiC03HzL48V72Q5BSIcFnSr/Zr1eVsav5tP5Dg/Yhe4YtBwa9exy01NoBi7Y8tlSORjcloCmsWOdqdXf/QUsckygJ758WSEC4d3x2RHLJpdY1LZpRBpkV1XzjeCndx0G9S7MKmZQ4GGVDRRg1qyFo6JWXRaOyLNxU8FIdBjD6ftEBTaYk5GyAZhvIzJNfuCUMTAibLtrkJu9cQRH32skhNi8h7Pblu+U8XuFC8XIls8cEe4vyqJbdThVqMO+IHuVV5YZ0vW578zeIVYd4/c7lxrrfq5yuq8BC+HQ1iJ/lsL3iZ9sD3jRWEjGjeaEv0PB43uE0VM+K7EhKwNjIdd/F0DN0fNKk/q9MdT5YjBTvflvhOuRfpXwJOLruYi5jvWNo14MWMfhq2AJWFrhFdtrEXcUx2Yw=
  #COVERALLS_REPO_TOKEN=[secured]
  - secure: njkO9P9hbtNzd/MotxDmpLp44z3MRGL+HoYBDnn7pNw8JdXzGubxJ9QZ5jnAoNLvIrmvHZrxhdX+poDSOSF4QeyomSE6jTT705RZKD6HI1kY9IUkj7Va0nNzQO3Db3YlH1w5VGAwrw4By9kH8H9bqbJtA3KpDg4BP2PRyjg/cspBSXRNP95Dp3R2XS3rWeF2tFx0z64hDAxie5e/ZNHOk9Q3zQTbHrPGDYuoEj2z6im8NKmx8giCcgf7cBf4Mtc3D+h8a48xor4m0t/dUfa3jh/ThFqHuOqLjn5Qzxg8INWY/wGS7vvMcVzWqXY78HH4hWHJtQWb9SfJuwz42exoHA0bjZRo7/UEIcF0grnP6lH7PU5CRchxQUSvr2mYSaKzCaW2l+NZlo2N56WWdJ7RiMez5yoPSZN9h5qSwpFJMIbgSocY02rld71La9qlTr8MMKrrT4na/10IvlIENuiy4995cnnSpC7fCRvOjKXOqOCJ6eW+ZomC2GMDbLPb6tQCQ3oEuIJREEYZJh5xu4BoIrxh6ieFPsSpWarkUKX1ueCoTZ8YLNhQq+eC0p7x2vePq0avgNoyoIg48q9FPK622WR3BbhgSaHTDeWWNzHPyjx0OxS4rotNxFNEO2fC2MaSY+ov8vh2uzctiHYy65Du/7M32R4GlZSfywFttLUL9b8=
  #CODACY_PROJECT_TOKEN=[secured]
  - secure: UKRAvsXLppfNkkwumZFOJyY8tSjBU05eHXED/BLNWvTOWv59I1cp3PQPoKqTO9zf2Fk0hxOgqZJ3UHN3vd1xKUsgTzgrv+uSvXlRmkQc+MS0Fg4QwCm2e1tx8Km4i8S0vDjmN5yMAS23lapd5DRCvLdpHJbbOnbejNahk3JEqQC8XZ3QUqqIuhtOfAsRic+W4vve2KLHYfd5OzM1AD6i8nn855ohlRCm+L/l4UidtT3wDvweAI4D/3GzMYFP75hOVGVplf2tpm4Uz3ZqDqymeZVZYRHsluwKGW4R9wlSYnPhT8BIltYRMc+owCXqbbbGZXxJBtDfX2w9hTHnTyq9aQSyfWkFvZZ2n19H47TgmzomS3dV1zPg1UbrbBWoQoqfrFPFZd46ZCEAt6Cy3DypYL+bn6gUEtRnMhEV2pc9JtOx1o1UVv+BVHeDlR05jwEN3x99KQBi+OJs57Yi2zOJ17akgtWK9Wyl9jBQrdTXuTheSrCHDIdbH8j2a1HAlmwRVMwFlhzX6FSummtOlXC3pkB9GudHp3vgTojjq1OWmu5ekpkGNqSYs6zdwlsxk8kxaly+dh48Wzt5Otm3+JCVBLIOiIBwsaDYRV+ZxDhL4+q0D+nkm8D8wwBeOmHG20CT0kT1c1cRpKaqwXApKdyeSUB+H50uo+Ywuylb9KB70t4=
before_install:
- npm install -g jspm
- jspm config registries.github.auth $JSPM_GITHUB_AUTH_TOKEN
- npm install -g babel
- npm install -g browserify
- npm install -g mocha
- npm install -g mocha-babel
- npm install -g istanbul
- npm install -g coveralls
- npm install -g isparta
- npm install -g codacy-coverage
- npm install -g istanbul-combine
- npm install -g jasmine-core
- cp test/package.json .
after_success:
- npm run coverage
